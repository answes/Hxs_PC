
<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">	<meta name="description" content="">
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/highstock.js"></script>
</head>
<body style="margin: 0px">
<div id="container" style="min-width:400px;height:400px"></div>
<script>
    Highcharts.option = ({
        global: {
            useUTC:  false
        },
        lang: { 						//		汉化界面
            months: ['一月', '二月', '三月', '四月', '五月', '六月',  '七月', '八月', '九月', '十月', '十一', '十二月'],
            shortMonths:['一月', '二月', '三月', '四月', '五月', '六月',  '七月', '八月', '九月', '十月', '十一', '十二月'],
            weekdays: ['周日', '周一', '周二', '周三', '周四', '周五', '周六']
        },
        navigator: {
            enabled: false //true //
        },        scrollbar: {
            enabled: false //true //
        },
        rangeSelector: {
            enabled: false
        },
        exporting: {  					 //  	输出功能，需搭建 export server 暂时关闭
            enabled: false	,
        },
//        legend:{enabled:false},
        plotOptions: {
            column: {
                grouping: false,
                shadow: false,
                borderWidth: 0
            },
            columnrange: {
                grouping: false,
                shadow: false,
                borderWidth: 0
            },
            arearange:{
                fillOpacity: 0.2,
            } ,
            line: {            //图表线宽 ，spline 另一种线
                lineWidth: 0.3,
                fillOpacity: 1,
                marker: {
                    enabled: false,
                    states: {
                        hover: {
                            enabled: true,
                            radius: 1
                        }
                    }
                },
                shadow: false
            },
            series: {
                animation: {
                    enabled: false,
                    duration: 0
                }
            },
            candlestick: {
                lineColor:'#54FCFC',
                color: '#54FCFC',
                upColor: '#00000000',
                upLineColor: 'red'
            }
        }
    });
</script>
<script>
    Highcharts.theme = {
        colors: ["#fcfc54","#dd54fc","#54fc54","#3f54fc","#a8a8a8","#00a800","#a80000","#fcfcfc","#54fcfc","#fc54fc" ],
        chart: {
            className: 'stock-qianlong',
            borderWidth: 0,
            plotShadow: false , //true,
            //plotBackgroundImage: 'http://www.highcharts.com/demo/gfx/skies.jpg',
            plotBorderColor: '#fff',
            plotBorderWidth: 1,
            plotBackgroundColor: '#000000',
            backgroundColor: '#000000',
            spacingTop: 10,
            spacingBottom: 15,
        },
        title: {
            text: null,
            style: {
                color: '#3E576F',
                font: '16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
            }
        },
        subtitle: {
            style: {
                color: '#6D869F',
                font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
            }
        },
        tooltip:{
            distance: 140,
            backgroundColor: 'rgba(255, 255, 255, 0.8)',
            shared:true,
            useHTML: true,
            headerFormat: '<small>{point.key}</small><table width="100%">',
            pointFormat: '<tr><td style="color: {series.color};font-size:14px;">\u25CF</td style="text-align: left"><td>{series.name}: </td>' + '<td style="text-align: right"><b>{point.y} </b></td></tr>',
            footerFormat: '</table>',
            dateTimeLabelFormats: {minute:'%Y-%m-%d %H:%M'},
            crosshairs:[true,true],
            followPointer:true, //false //
            valueDecimals: 2        //,       			positioner: function () {                return { x: 10, y: 35 };            }
        },
        credits: {
            enabled:false
        },
        plotOptions: {
            arearange:{
                fillOpacity: 0.2,
            } ,
            line: {
                lineWidth: 0.7,
                fillOpacity: 1,
                marker: {
                    enabled: false,
                    states: {
                        hover: {
                            enabled: true,
                            radius: 1
                        }
                    }
                },
                shadow: false
            },
            series: {
                animation: {
                    enabled: false
                    //duration: 500
                }
            },
            candlestick: {
                lineColor:'#54FCFC',
                color: '#54FCFC',
                upColor: '#00000000',
                upLineColor: 'red'
            }
        },
        xAxis: {
            gridLineWidth: 1,
            gridLineDashStyle:"Dot",
            gridLineColor: 'rgba(255, 255,255, .5)',
            lineColor: '#a80000',
            showFirstLabel: true,
            showLastLabel: true,
            startOnTick: false,//true,//
            endOnTick:false,
            minPadding:0,
            maxPadding:0,
            tickWidth: 2,
            tickColor: '#a80000',
            tickPosition: 'outside',
            type: 'datetime',
            dateTimeLabelFormats:{hour: '%H:%M',day: '%e. %b',month: '%b \'%y',	year: '%Y'},
            lineWidth: 0,
            offset: 1,
            labels: {
                style: {color:"#fcfc54"}
            },
            title: {
                style: {
                    color: '#666',
                    font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
                }
            }
        },
        yAxis: {
            gridLineDashStyle:"Dot",
            minorGridLineWidth: 0,
            gridLineColor: 'rgba(255, 255, 255, 0.5)',
            minorGridLineColor: 'rgba(255,255,255,0.3)',
            title: {
                text: null,
                style: {
                    color: '#666',
                    font: '12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif'
                }
            }
        },
        legend: {
            itemStyle: {
                font: '9pt Trebuchet MS, Verdana, sans-serif',
                color: '#3E576F'
            },
            itemHoverStyle: {
                color: 'black'
            },
            itemHiddenStyle: {
                color: 'silver'
            }
        },
        labels: {
            style: {
                color: '#3E576F'
            }
        }
    };
</script>
<script>
    /**
     * Highcharts X-range series plugin
     * 此部分为插件，可以另存为js文件，引用之后即可按照正常的线类型使用，type: xrange 即可
     */
    (function(H) {
        var defaultPlotOptions = H.getOptions().plotOptions,
            columnType = H.seriesTypes.column,
            each = H.each,
            extendClass = H.extendClass,
            Point = H.Point;
        defaultPlotOptions.xrange = H.merge(defaultPlotOptions.column, {
            tooltip: {
                pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.yCategory}</b><br/>'
            }
        });/**/
        H.seriesTypes.xrange = H.extendClass(columnType, {
            pointClass: extendClass(Point, {
                // Add x2 and yCategory to the available properties for tooltip formats
                getLabelConfig: function() {
                    var cfg = Point.prototype.getLabelConfig.call(this);
                    cfg.x2 = this.x2;
                    cfg.yCategory = this.yCategory = this.series.yAxis.categories && this.series.yAxis.categories[this.y];
                    return cfg;
                }
            }),
            /* */
            type: 'xrange',
            parallelArrays: ['x', 'x2', 'y'],
            requireSorting: false,
            animate: H.seriesTypes.line.prototype.animate,
            /**
             * Borrow the column series metrics, but with swapped axes. This gives free access
             * to features like groupPadding, grouping, pointWidth etc.
             */
            getColumnMetrics: function() {
                var metrics,
                    chart = this.chart;
                function swapAxes() {
                    each(chart.series, function(s) {
                        var xAxis = s.xAxis;
                        s.xAxis = s.yAxis;
                        s.yAxis = xAxis;
                    });
                }
                swapAxes();
                this.yAxis.closestPointRange = 1;
                metrics = columnType.prototype.getColumnMetrics.call(this);
                swapAxes();
                return metrics;
            },
            translate: function() {
                columnType.prototype.translate.apply(this, arguments);
                var series = this,
                    xAxis = series.xAxis,
                    metrics = series.columnMetrics;
                H.each(series.points, function(point) {
                    var barWidth = xAxis.translate(H.pick(point.x2, point.x + (point.len || 0))) - point.plotX;
                    point.shapeArgs = {
                        x: point.plotX,
                        y: point.plotY + metrics.offset,
                        width: barWidth,
                        height: metrics.width
                    };
                    point.tooltipPos[0] += barWidth / 4;
                    point.tooltipPos[1] -= metrics.width / 2;
                });
            }
        });
        /**
         * Max x2 should be considered in xAxis extremes
         */
        H.wrap(H.Axis.prototype, 'getSeriesExtremes', function(proceed) {
            var axis = this,
                dataMax = Number.MIN_VALUE;
            proceed.call(this);
            if (this.isXAxis) {
                each(this.series, function(series) {
                    each(series.x2Data || [], function(val) {
                        if (val > dataMax) {
                            dataMax = val;
                        }
                    });
                });
            }
        });
    }(Highcharts));
    /**
     * 插件部分结束
     */
</script>
<script>
    var root =  document.getElementById('container');
    var width = document.documentElement.clientWidth;
    var hight = document.documentElement.clientHeight;
    root .style.width = width+"px";
    root.style.height = hight+"px";
    $(function () {
        var data = [
            [1488902400000,3240.532,3245.304,3230.608,3240.664,160731388],
            [1488988800000,3233.7,3233.874,3205.279,3216.745,167371108],
            [1489075200000,3213.729,3222.318,3208.447,3212.76,136672743],
            [1489334400000,3209.449,3237.121,3193.156,3237.024,163673760],
            [1489420800000,3235.251,3246.328,3231.52,3239.327,146946022],
            [1489507200000,3235.403,3243.713,3227.737,3241.759,144055682],
            [1489593600000,3247.162,3269.77,3247.162,3268.935,189416002],
            [1489680000000,3271.866,3274.19,3232.28,3237.447,200583223],
            [1489939200000,3241.11,3251.127,3228.117,3250.808,170548430],
            [1490025600000,3250.247,3262.22,3246.695,3261.61,162719306],
            [1490112000000,3246.223,3255.777,3229.128,3245.219,189731649],
            [1490198400000,3245.807,3262.091,3221.934,3248.549,193029144],
            [1490284800000,3247.349,3275.206,3241.123,3269.445,219777914],
            [1490544000000,3268.924,3283.239,3262.118,3266.955,201852675],
            [1490630400000,3265.634,3265.634,3246.086,3252.947,161710013],
            [1490716800000,3252.865,3262.097,3233.279,3241.314,216105575],
            [1490803200000,3235.136,3240.017,3195.852,3210.236,247135479],
            [1490889600000,3206.252,3226.248,3205.536,3222.514,196442922],
            [1491321600000,3235.66,3270.645,3233.236,3270.305,248320202],
            [1491408000000,3272.192,3286.673,3265.764,3281.004,245287999],
            [1491494400000,3280.623,3295.187,3275.05,3286.616,236108942],
            [1491753600000,3285.459,3285.459,3265.012,3269.392,232694616],
            [1491840000000,3266.221,3290.388,3244.404,3288.965,281281248],
            [1491926400000,3283.836,3284.933,3262.277,3273.83,269381790],
            [1492012800000,3265.218,3281.136,3261.49,3275.96,207346875],
            [1492099200000,3276.138,3276.711,3238.895,3246.066,214508558],
            [1492358400000,3229.949,3229.949,3199.912,3222.167,212737189],
            [1492444800000,3215.396,3225.054,3196.488,3196.713,188661353],
            [1492531200000,3184.666,3189.436,3147.065,3170.686,213238075],
            [1492617600000,3165.665,3178.182,3148.184,3172.1,190873985],
            [1492704000000,3170.289,3180.794,3158.628,3173.151,164761740],
            [1492963200000,3164.247,3164.247,3111.214,3129.531,186277434],
            [1493049600000,3123.894,3145.267,3117.448,3134.567,153418307],
            [1493136000000,3132.918,3152.953,3131.418,3140.847,169878107],
            [1493222400000,3131.349,3155.003,3097.333,3152.186,211793073],
            [1493308800000,3144.021,3154.726,3136.578,3154.658,162889899],
            [1493654400000,3147.227,3154.781,3136.539,3143.712,154222962],
            [1493740800000,3138.306,3148.285,3123.75,3135.346,163763924],
            [1493827200000,3127.105,3143.817,3111.391,3127.368,177967485],
            [1493913600000,3114.773,3117.614,3092.091,3103.037,176213641],
            [1494172800000,3090.065,3093.451,3067.694,3078.612,180526904],
            [1494259200000,3064.848,3084.207,3056.558,3080.526,135066674],
            [1494345600000,3078.172,3090.819,3051.589,3052.785,160794452],
            [1494432000000,3036.789,3063.563,3016.53,3061.5,191341901],
            [1494518400000,3054.112,3090.491,3051.871,3083.513,159684099],
            [1494777600000,3085.931,3098.912,3085.931,3090.228,135660728],
            [1494864000000,3082.871,3113.511,3060.534,3112.964,173775564],
            [1494950400000,3107.802,3119.581,3101.295,3104.441,168674158],
            [1495036800000,3082.328,3103.441,3077.963,3090.139,148620035],
            [1495123200000,3086.705,3095.482,3081.278,3090.63,129635230],
            [1495382400000,3087.17,3103.937,3063.152,3075.675,153683730],
            [1495468800000,3069.393,3084.235,3050.842,3061.947,178310599],
            [1495555200000,3047.568,3064.812,3022.302,3064.075,139813353],
            [1495641600000,3055.342,3114.657,3052.83,3107.831,191391841],
            [1495728000000,3101.286,3120.662,3100.387,3110.058,155923486],
            [1496160000000,3125.325,3143.278,3111.556,3117.177,152950430],
            [1496246400000,3108.421,3113.521,3097.679,3102.623,163015719],
            [1496332800000,3094.225,3110.389,3081.848,3105.54,142504925],
            [1496592000000,3102.109,3105.505,3084.83,3091.656,132570300],
            [1496678400000,3084.54,3102.863,3078.787,3102.126,113439963],
            [1496764800000,3101.76,3140.774,3098.95,3140.324,173229014],
            [1496851200000,3136.47,3153.263,3132.827,3150.333,152277659],
            [1496937600000,3147.453,3165.919,3146.107,3158.4,160136334],
            [1497196800000,3149.526,3164.95,3135.314,3139.876,146729425],
            [1497283200000,3134.008,3155.989,3131.043,3153.742,128318279],
            [1497369600000,3146.748,3149.173,3125.354,3130.674,138347042],
            [1497456000000,3125.586,3137.585,3117.084,3132.486,146954245],
            [1497542400000,3126.372,3134.251,3117.856,3123.166,129652758],
            [1497801600000,3122.157,3146.77,3121.778,3144.373,134891758],
            [1497888000000,3148.018,3150.464,3134.61,3140.013,141191802],
            [1497974400000,3148.986,3157.027,3132.617,3156.211,136688268],
            [1498060800000,3152.242,3186.982,3146.643,3147.453,191344006],
            [1498147200000,3138.444,3158.047,3118.094,3157.873,154843648],
            [1498406400000,3157.002,3187.889,3156.976,3185.443,173579211],
            [1498492800000,3183.419,3193.461,3172.463,3191.196,148201198],
            [1498579200000,3183.633,3193.439,3170.785,3173.201,146516720],
            [1498665600000,3174.981,3188.774,3174.283,3188.062,128755470],
            [1498752000000,3176.948,3193.241,3171.57,3192.426,121464543],
            [1499011200000,3191.998,3196.286,3177.024,3195.911,140305717],
            [1499097600000,3192.888,3193.064,3174.314,3182.803,141114967],
            [1499184000000,3179.216,3207.309,3174.708,3207.134,148296483],
            [1499270400000,3203.863,3215.95,3188.773,3212.444,175809287],
            [1499356800000,3203.822,3219.523,3195.29,3217.956,176715416],
            [1499616000000,3208.462,3223.34,3203.208,3212.631,198928010],
            [1499702400000,3201.516,3226.908,3199.223,3203.037,187837262],
            [1499788800000,3201.929,3215.196,3177.934,3197.543,186900880],
            [1499875200000,3192.361,3219.268,3190.339,3218.163,195303611],
            [1499961600000,3212.031,3222.978,3204.852,3222.416,160126773],
            [1500220800000,3219.791,3230.354,3139.503,3176.464,266205274],
            [1500307200000,3159.731,3187.671,3150.128,3187.567,190623060],
            [1500393600000,3181.401,3232.94,3179.73,3230.976,272420726],
            [1500480000000,3227.505,3246.236,3225.432,3244.864,232108392],
            [1500566400000,3236.588,3247.712,3231.955,3237.981,206003251],
            [1500825600000,3230.898,3261.104,3230.07,3250.598,233056399],
            [1500912000000,3249.137,3261.645,3233.137,3243.689,205573873],
            [1500998400000,3244.46,3264.848,3228.038,3247.674,213542005],
            [1501084800000,3243.765,3251.926,3220.636,3249.781,228485945],
            [1501171200000,3240.172,3256.37,3232.963,3253.24,182226880],
            [1501430400000,3252.751,3276.946,3251.194,3273.028,246039440],
            [1501516800000,3274.368,3288.654,3273.503,3286.309,157700384]];
        var ohlc = [],
            volume = [],
            macd = [
                [1488902400000,300],
                [1488988800000,285],
                [1489075200000,280],
                [1489334400000,215],
                [1489420800000,200],
                [1489507200000,180],
                [1489593600000,160],
                [1489680000000,130],
                [1489939200000,100],
                [1490025600000,50],
                [1490112000000,30],
                [1490198400000,0],
                [1490284800000,-35],
                [1490544000000,-90],
                [1490630400000,-120],
                [1490716800000,-150],
                [1490803200000,-200],
                [1490889600000,-265],
                [1491321600000,-300],
                [1491408000000,-358],
                [1491494400000,-300],
                [1491753600000,-252],
                [1491840000000,-220],
                [1491926400000,-180],
                [1492012800000,-150],
                [1492099200000,-120],
                [1492358400000,-100],
                [1492444800000,-80],
                [1492531200000,-65],
                [1492617600000,-33],
                [1492704000000,-25],
                [1492963200000,50],
                [1493049600000,80],
                [1493136000000,120],
                [1493222400000,180],
                [1493308800000,200],
                [1493654400000,250],
                [1493740800000,300],
                [1493827200000,250],
                [1493913600000,180],
                [1494172800000,120],
                [1494259200000,80],
                [1494345600000,50],
                [1494432000000,-25],
                [1494518400000,-33],
                [1494777600000,-65],
                [1494864000000,-80],
                [1494950400000,-100],
                [1495036800000,-125],
                [1495123200000,-20],
                [1495382400000,300],
                [1495468800000,285],
                [1495555200000,280],
                [1495641600000,215],
                [1495728000000,200],
                [1496160000000,180],
                [1496246400000,160],
                [1496332800000,130],
                [1496592000000,100],
                [1496678400000,50],
                [1496764800000,30],
                [1496851200000,0],
                [1496937600000,-35],
                [1497196800000,-90],
                [1497283200000,-120],
                [1497369600000,-150],
                [1497456000000,-200],
                [1497542400000,-265],
                [1497801600000,-300],
                [1497888000000,-358],
                [1497974400000,-300],
                [1498060800000,-252],
                [1498147200000,-220],
                [1498406400000,-180],
                [1498492800000,-150],
                [1498579200000,-120],
                [1498665600000,-100],
                [1498752000000,-80],
                [1499011200000,-65],
                [1499097600000,-33],
                [1499184000000,-25],
                [1499270400000,50],
                [1499356800000,80],
                [1499616000000,120],
                [1499702400000,180],
                [1499788800000,200],
                [1499875200000,250],
                [1499961600000,300],
                [1500220800000,250],
                [1500307200000,180],
                [1500393600000,120],
                [1500480000000,80],
                [1500566400000,50],
                [1500825600000,-25],
                [1500912000000,-33],
                [1500998400000,-65],
                [1501084800000,-80],
                [1501171200000,-100],
                [1501430400000,-125],
                [1501516800000,-20]],
            tomorrow = [
                [1488902400000,228],
                [1488988800000,105],
                [1489075200000,129],
                [1489334400000,160],
                [1489420800000,152],
                [1489507200000,107],
                [1489593600000,203],
                [1489680000000,102],
                [1489939200000,274],
                [1490025600000,291],
                [1490112000000,-297],
                [1490198400000,-147],
                [1490284800000,-139],
                [1490544000000,-293],
                [1490630400000,-254],
                [1490716800000,-167],
                [1490803200000,-146],
                [1490889600000,-298],
                [1491321600000,-115],
                [1491408000000,-139],
                [1491494400000,165],
                [1491753600000,130],
                [1491840000000,221],
                [1491926400000,156],
                [1492012800000,116],
                [1492099200000,212],
                [1492358400000,164],
                [1492444800000,143],
                [1492531200000,109],
                [1492617600000,261],
                [1492704000000,-243],
                [1492963200000,-164],
                [1493049600000,-165],
                [1493136000000,-145],
                [1493222400000,-227],
                [1493308800000,-273],
                [1493654400000,-271],
                [1493740800000,-299],
                [1493827200000,-296],
                [1493913600000,-121],
                [1494172800000,151],
                [1494259200000,242],
                [1494345600000,230],
                [1494432000000,197],
                [1494518400000,266],
                [1494777600000,203],
                [1494864000000,148],
                [1494950400000,172],
                [1495036800000,167],
                [1495123200000,188],
                [1495382400000,-129],
                [1495468800000,-108],
                [1495555200000,-191],
                [1495641600000,-156],
                [1495728000000,-108],
                [1496160000000,-209],
                [1496246400000,-133],
                [1496332800000,-200],
                [1496592000000,-254],
                [1496678400000,-160],
                [1496764800000,101],
                [1496851200000,148],
                [1496937600000,123],
                [1497196800000,122],
                [1497283200000,210],
                [1497369600000,178],
                [1497456000000,247],
                [1497542400000,166],
                [1497801600000,260],
                [1497888000000,132],
                [1497974400000,-103],
                [1498060800000,-239],
                [1498147200000,-163],
                [1498406400000,-256],
                [1498492800000,-235],
                [1498579200000,-192],
                [1498665600000,-183],
                [1498752000000,-148],
                [1499011200000,-204],
                [1499097600000,-246],
                [1499184000000,218],
                [1499270400000,226],
                [1499356800000,215],
                [1499616000000,131],
                [1499702400000,240],
                [1499788800000,190],
                [1499875200000,169],
                [1499961600000,226],
                [1500220800000,112],
                [1500307200000,147],
                [1500393600000,-242],
                [1500480000000,-178],
                [1500566400000,-150],
                [1500825600000,-117],
                [1500912000000,-224],
                [1500998400000,-176],
                [1501084800000,-114],
                [1501171200000,-271],
                [1501430400000,-124],
                [1501516800000,-209]],
            today=[
                [1488902400000,167],
                [1488988800000,174],
                [1489075200000,178],
                [1489334400000,175],
                [1489420800000,116],
                [1489507200000,104],
                [1489593600000,112],
                [1489680000000,203],
                [1489939200000,240],
                [1490025600000,288],
                [1490112000000,-149],
                [1490198400000,-168],
                [1490284800000,-192],
                [1490544000000,-113],
                [1490630400000,-255],
                [1490716800000,-109],
                [1490803200000,-170],
                [1490889600000,-113],
                [1491321600000,-125],
                [1491408000000,-118],
                [1491494400000,124],
                [1491753600000,290],
                [1491840000000,112],
                [1491926400000,178],
                [1492012800000,128],
                [1492099200000,164],
                [1492358400000,203],
                [1492444800000,128],
                [1492531200000,103],
                [1492617600000,278],
                [1492704000000,-176],
                [1492963200000,-283],
                [1493049600000,-164],
                [1493136000000,-118],
                [1493222400000,-119],
                [1493308800000,-104],
                [1493654400000,-213],
                [1493740800000,-149],
                [1493827200000,-214],
                [1493913600000,-179],
                [1494172800000,168],
                [1494259200000,191],
                [1494345600000,166],
                [1494432000000,152],
                [1494518400000,223],
                [1494777600000,120],
                [1494864000000,174],
                [1494950400000,103],
                [1495036800000,263],
                [1495123200000,194],
                [1495382400000,-136],
                [1495468800000,-252],
                [1495555200000,-127],
                [1495641600000,-125],
                [1495728000000,-211],
                [1496160000000,-294],
                [1496246400000,-137],
                [1496332800000,-106],
                [1496592000000,-140],
                [1496678400000,-120],
                [1496764800000,145],
                [1496851200000,137],
                [1496937600000,279],
                [1497196800000,177],
                [1497283200000,170],
                [1497369600000,291],
                [1497456000000,181],
                [1497542400000,227],
                [1497801600000,179],
                [1497888000000,104],
                [1497974400000,-158],
                [1498060800000,-226],
                [1498147200000,-117],
                [1498406400000,-147],
                [1498492800000,-226],
                [1498579200000,-184],
                [1498665600000,-231],
                [1498752000000,-115],
                [1499011200000,-270],
                [1499097600000,-100],
                [1499184000000,245],
                [1499270400000,107],
                [1499356800000,136],
                [1499616000000,299],
                [1499702400000,160],
                [1499788800000,161],
                [1499875200000,258],
                [1499961600000,154],
                [1500220800000,119],
                [1500307200000,116],
                [1500393600000,-172],
                [1500480000000,-138],
                [1500566400000,-141],
                [1500825600000,-166],
                [1500912000000,-250],
                [1500998400000,-138],
                [1501084800000,-177],
                [1501171200000,-199],
                [1501430400000,-159],
                [1501516800000,-284]],
            maset = [5,10,20,30],
            ma = [],
            dataLength = data.length,
            i = 0;
        for (i; i < dataLength; i += 1) {
            ohlc.push([
                data[i][0], // the date
                data[i][1], // open
                data[i][2], // high
                data[i][3], // low
                data[i][4] // close
            ]);
            $.each(maset,function(index,value){
                // console.log(index,value);
                if(typeof ma['ma'+value] == "undefined"){
                    ma['ma'+value]=[];
                }
                if(typeof ma[value+'total'] == "undefined"){
                    ma[value+'total']=0;
                }
                if(i<value)
                {
                    ma[value+'total'] += data[i][4];
                    ma['ma'+value].push([data[i][0],null]);
                } else {
                    ma[value+'total'] += (data[i][4] - data[i-value][4]);
                    ma['ma'+value].push([data[i][0], ma[value+'total']/value]);
                }
            });
            var newColor = data[i][4]>data[i][1]?'#a80000':'#54FCFC';
            volume.push({x: data[i][0],
                y: data[i][5],
                color: newColor
            });
            console.log(volume[i].x+','+volume[i].y+','+volume[i].color);
        }

        //导入选项
        Highcharts.setOptions(Highcharts.option);
        //导入主题
        Highcharts.setOptions(Highcharts.theme);
        var chart = new Highcharts.StockChart('container', {
            rangeSelector: {
                enabled: false
            },
            exporting: {  					 //  	输出功能，需搭建 export server 暂时关闭
                enabled: false	,
            },
            legend:{enabled:false},
            title: {
                style: {
                    color: '#dd54fc',
                    fontWeight: 'bold'
                },
                text:" 上证指数"
            },
            navigator: {
                enabled: true, //false
                margin: 2,
                height: 17
            },
            xAxis: {
                startOnTick: false,//true,//
                endOnTick:true,
                tickPixelInterval: 200,
                minPadding:0,
                maxPadding:0,
                crosshair:{
                    color:'white',
                    width:1
                },
                ordinal: true //false
            },
            yAxis: [{
                minorTickInterval: 'auto',
                showLastLabel: true,
                showFirstLabel: false,
                crosshair:{
                    color:'white',
                    width:1
                },
                labels: {
                    style:
                        {"color":"#FCFFa5","fontWeight":"bold"},
                    align: 'right',
                    x: -3
                },
                title: 'ohlc',
                height: '50%',
                lineWidth: 0,
                opposite: false //true,
            },
                {
                    minorTickInterval: 'auto',
                    labels: {
                        style:
                            {"color":"#FCFFa5","fontWeight":"bold"},
                        align: 'right',
                        x: -3
                    },
                    title: {
                        text: ''
                    },
                    /*Volume*/
                    top: '50%',
                    height: '25%',
                    offset: 0,
                    lineWidth: 0,
                    opposite: false
                },
                {
                    minorTickInterval: 'auto',
                    labels: {
                        style:
                            {"color":"#FCFFa5","fontWeight":"bold"},
                        align: 'right',
                        x: -3
                    },
                    title: {
                        text: ''
                    },
                    /*Volume*/
                    top: '75%',
                    height: '25%',
                    offset: 0,
                    lineWidth: 0,
                    opposite: false
                }],
            tooltip:{
            }, plotOptions:{
                column:{
                    pointWidth: 2.5
                },
                line:{
                    pointWidth: 2.5
                },
                candlestick:{
                    pointWidth: 5,
                    tooltip: {
                        pointFormat: '<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>' +
                        '开盘价: {point.open}<br/>' +
                        '最高价: {point.high}<br/>' +
                        '最低价: {point.low}<br/>' +
                        '收盘价: {point.close}<br/>'
                    }
                }
            },
            series: [{
                type:'candlestick',
                name:'价',
                data: ohlc,
                dataGrouping: {
                    enables:false
                },
                yAxis: 0,
                id:'c'
            },{
                type:'line',
                name:'ma5' ,
                data: ma['ma5'] ,
                color: "#FFFF00",
                yAxis: 0
            },{
                type:'line',
                name:'ma10' ,
                data: ma['ma10'] ,
                color: "#FF00FF",
                yAxis: 0
            },{
                type:'line',
                name:'ma20' ,
                data: ma['ma20'] ,
                color: "#00FF00",
                yAxis: 0
            },{
                type:'line',
                name:'ma30' ,
                data: ma['ma30'] ,
                color: "#0000FF",
                yAxis: 0
            },{ animation: false,
                type: 'column',
                //pointWidth: 3,
                name: '量',
                data: volume,
                dataGrouping: {
                    enables:false
                },
                yAxis: 1},
                { animation: false,
                    type: 'column',
                    //pointWidth: 3,
                    name: '量',
                    data: macd,
                    color: '#a80000',
                    negativeColor: '#54FCFC',
                    yAxis: 2},
                {
                    type:'line',
                    name:'diff' ,
                    data: tomorrow ,
                    color: "#FF00FF",
                    yAxis: 2
                },
                {
                    type:'line',
                    name:'diff' ,
                    data: today ,
                    color: "#FFFF00",
                    yAxis: 2
                }]
        });
        var zoomLevel = 10; // 平移或缩放比例，10 表示当前选中范围的 1/10
        $(document).keyup(function(e) {
            var keyCode = e.keyCode;
            switch(keyCode) {
                case 37: zoom(-1, true);break;
                case 38:zoom(1);break;
                case 39:zoom(1, true);break;
                case 40:zoom(-1);break;
                default:;break;
            }
        });
        function zoom(level, isPanning) {
            var xAxis = chart.xAxis[0],
                min = xAxis.min,
                max = xAxis.max,
                range = (max - min)/zoomLevel;
            // 通过 API 接口进行缩放或平移操作
            xAxis.setExtremes(isPanning ? min + range*level : min - range* level, max + range*level);
        }
    });
</script>

</body></html>